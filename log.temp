2022-05-23 12:22:17+0530 [-] Log opened.
2022-05-23 12:22:17+0530 [-] registered capabilities (classes):
2022-05-23 12:22:17+0530 [-]  - <class 'rosbridge_library.capabilities.call_service.CallService'>
2022-05-23 12:22:17+0530 [-]  - <class 'rosbridge_library.capabilities.advertise.Advertise'>
2022-05-23 12:22:17+0530 [-]  - <class 'rosbridge_library.capabilities.publish.Publish'>
2022-05-23 12:22:17+0530 [-]  - <class 'rosbridge_library.capabilities.subscribe.Subscribe'>
2022-05-23 12:22:17+0530 [-]  - <class 'rosbridge_library.capabilities.defragmentation.Defragment'>
2022-05-23 12:22:17+0530 [-]  - <class 'rosbridge_library.capabilities.advertise_service.AdvertiseService'>
2022-05-23 12:22:17+0530 [-]  - <class 'rosbridge_library.capabilities.service_response.ServiceResponse'>
2022-05-23 12:22:17+0530 [-]  - <class 'rosbridge_library.capabilities.unadvertise_service.UnadvertiseService'>
2022-05-23 12:22:17+0530 [-] WebSocketServerFactory starting on 9000
2022-05-23 12:22:17+0530 [-] Starting factory <autobahn.twisted.websocket.WebSocketServerFactory object at 0x7f926af70160>
2022-05-23 12:22:17+0530 [-] [INFO] [1653288737.283105]: Rosbridge WebSocket server started at ws://0.0.0.0:9000
[33mStarting up http-server, serving [39m[36m./[39m[33m[39m
[33mAvailable on:[39m
  http://127.0.0.1:[32m8081[39m
  http://172.18.3.4:[32m8081[39m
Hit CTRL-C to stop the server
[DEBUG] TTSActivity          : AWSTtsServicePytree.__init__()
[DEBUG] SpeakerActivity      : SpeakerServicePytree.__init__()
[DEBUG] TTSActivity          : Behavior tts_default interface action clients have been set up!
[DEBUG] TTSActivity          : AWSTtsServicePytree.setup()
[DEBUG] SpeakerActivity      : Behavior speaker_default interface action clients have been set up!
[DEBUG] SpeakerActivity      : SpeakerServicePytree.setup()
[INFO] [1653288737.366146]: Setup completed....starting test
[INFO] [1653288737.366901]: The input data is {'message': 'I would like to develop harmoni'}
[DEBUG] Speaker_TTS          : Sequence.tick()
[DEBUG] TTSActivity          : AWSTtsServicePytree.tick()
[DEBUG] TTSActivity          : AWSTtsServicePytree.initialise()
[DEBUG] TTSActivity          : Sending goal to tts_default
[DEBUG] TTSActivity          : Goal sent to tts_default
[DEBUG] TTSActivity          : AWSTtsServicePytree.update()[Status.INVALID]--->[Status.RUNNING]
Tick number:  0
[DEBUG] Speaker_TTS          : Sequence.tick()
[DEBUG] TTSActivity          : AWSTtsServicePytree.tick()
update :  1
[DEBUG] TTSActivity          : AWSTtsServicePytree.update()[Status.RUNNING]--->[Status.RUNNING]
Tick number:  1
[DEBUG] Speaker_TTS          : Sequence.tick()
[DEBUG] TTSActivity          : AWSTtsServicePytree.tick()
update :  1
[DEBUG] TTSActivity          : AWSTtsServicePytree.update()[Status.RUNNING]--->[Status.RUNNING]
[DEBUG] TTSActivity          : The result of the request has been received
[DEBUG] TTSActivity          : The result callback message from TTSActivity was 321084 long
Tick number:  2
[DEBUG] Speaker_TTS          : Sequence.tick()
[DEBUG] TTSActivity          : AWSTtsServicePytree.tick()
update :  3
[DEBUG] TTSActivity          : AWSTtsServicePytree.update()[Status.RUNNING]--->[Status.SUCCESS]
[DEBUG] TTSActivity          : AWSTtsServicePytree.stop(Status.RUNNING->Status.SUCCESS)
terminate :  3
[DEBUG] TTSActivity          : AWSTtsServicePytree.terminate()[Status.RUNNING->Status.SUCCESS]
[DEBUG] SpeakerActivity      : SpeakerServicePytree.tick()
[DEBUG] SpeakerActivity      : SpeakerServicePytree.initialise()
[DEBUG] SpeakerActivity      : Sending goal to speaker_default
[DEBUG] SpeakerActivity      : The feedback recieved is {'state': 3}.
[DEBUG] SpeakerActivity      : The result of the request has been received
[DEBUG] SpeakerActivity      : Goal sent to speaker_default
[DEBUG] SpeakerActivity      : SpeakerServicePytree.update()[Status.INVALID]--->[Status.RUNNING]
Tick number:  3
-------------------------------------------------------------
SUMMARY:
[32m * RESULT: SUCCESS[0m
 * TESTS: 1
 * ERRORS: 0 []
 * FAILURES: 0 []

[31mhttp-server stopped.[39m
[INFO] [1653288737.109367]: Initializing the face_eyes_default service
[INFO] [1653288737.111078]: Checking that face is connected to ROS websocket
[INFO] [1653288737.125514]: Rosapi started
2022-05-23 12:22:24+0530 [autobahn.twisted.websocket.WebSocketServerFactory] (TCP Port 9000 Closed)
2022-05-23 12:22:24+0530 [-] Stopping factory <autobahn.twisted.websocket.WebSocketServerFactory object at 0x7f926af70160>
2022-05-23 12:22:24+0530 [-] Main loop terminated.
[INFO] [1653288737.059567]: Initializing the speaker_default service
[INFO] [1653288737.061086]: Sucessfully reached speaker_default
[INFO] [1653288737.061891]: Service Server speaker_default has been successfully set up
speaker
****************************************************************************
speaker_default
[INFO] [1653288737.070183]: speaker_default Service Server sending feedback at 0.2/sec
[INFO] [1653288740.377041]: (Server) The goal is a 4
[INFO] [1653288740.378184]: The goal is: 4
[INFO] [1653288740.378973]: (Server speaker_default) Received goal. Doing
[INFO] [1653288740.380331]: The audio lasts 2.1155102040816325 seconds
[INFO] [1653288740.381193]: Writing data for speaker
[INFO] [1653288740.382005]: length of data is 93314
[INFO] [1653288742.080226]: (Server) sending result True to actiontype 4
[INFO] [1653288737.156257]: Initializing the tts_default service
[INFO] [1653288737.177078]: Sucessfully reached tts_default
[INFO] [1653288737.177909]: Service Server tts_default has been successfully set up
tts
****************************************************************************
tts_default
[INFO] [1653288737.184497]: tts_default Service Server sending feedback at 0.2/sec
[INFO] [1653288737.368945]: (Server) The goal is a 3
[INFO] [1653288737.369632]: The goal is: 3
[INFO] [1653288737.370281]: (Server tts_default) Received goal. Requesting
[INFO] [1653288737.370994]: Start the tts_default request
[INFO] [1653288737.371732]: Processing the phrase: I would like to develop harmoni
[INFO] [1653288739.642532]: Request successfully completed
[INFO] [1653288739.672620]: (Server) sending result True to actiontype 3
... logging to /root/.ros/log/rostest-harmoni_full-4506.log
[ROSTEST]setup[/root/harmoni_catkin_ws/src/HARMONI/harmoni_core/harmoni_pytree/test/face_and_polly_test/face_and_polly_subtree.test] run_id[e1f8b380-da64-11ec-a6a7-0242ac120304] starting
[1mstarted roslaunch server http://harmoni_full:33275/[0m

SUMMARY
========

PARAMETERS
 * /audio/audio_play/channels: 1
 * /audio/audio_play/device: 
 * /audio/audio_play/do_timestamp: False
 * /audio/audio_play/dst: alsasink
 * /audio/audio_play/format: wave
 * /audio/audio_play/sample_format: S16LE
 * /audio/audio_play/sample_rate: 22050
 * /bridge_face/rosapi/params_glob: [*]
 * /bridge_face/rosapi/services_glob: [*]
 * /bridge_face/rosapi/topics_glob: [*]
 * /bridge_face/rosbridge_websocket/address: 0.0.0.0
 * /bridge_face/rosbridge_websocket/authenticate: False
 * /bridge_face/rosbridge_websocket/bson_only_mode: False
 * /bridge_face/rosbridge_websocket/delay_between_messages: 0
 * /bridge_face/rosbridge_websocket/fragment_timeout: 600
 * /bridge_face/rosbridge_websocket/max_message_size: None
 * /bridge_face/rosbridge_websocket/params_glob: [*]
 * /bridge_face/rosbridge_websocket/port: 9000
 * /bridge_face/rosbridge_websocket/retry_startup_delay: 5
 * /bridge_face/rosbridge_websocket/services_glob: [*]
 * /bridge_face/rosbridge_websocket/topics_glob: [*]
 * /bridge_face/rosbridge_websocket/unregister_timeout: 10
 * /bridge_face/rosbridge_websocket/use_compression: False
 * /bridge_face/rosbridge_websocket/websocket_external_port: None
 * /bridge_face/rosbridge_websocket/websocket_ping_interval: 0
 * /bridge_face/rosbridge_websocket/websocket_ping_timeout: 30
 * /face/default_param/eyes/gaze_speed: 10
 * /face/default_param/eyes/timer_interval: 0.01
 * /face/default_param/mouth/min_duration_viseme: 0.05
 * /face/default_param/mouth/speed_viseme: 10
 * /face/default_param/mouth/timer_interval: 0.01
 * /face/default_param/nose/timer_interval: 0.01
 * /face/default_param/timer_interval: 1
 * /instance_id: default
 * /polly/default_param/outdir: /root/harmoni_cat...
 * /rosdistro: noetic
 * /rosversion: 1.15.14
 * /test_polly_input: {'message':'I wou...
 * /test_speaker_input: /root/harmoni_cat...
 * /tts/default_param/language: it-IT
 * /tts/default_param/outdir: /root/harmoni_cat...
 * /tts/default_param/region_name: us-west-2
 * /tts/default_param/voice: Bianca
 * /tts/default_param/wav_header_length: 24

NODES
  /
    face_http_server (harmoni_face/http_server_runner.py)
    harmoni_face_default (harmoni_face/face_service.py)
    harmoni_speaker_default (harmoni_speaker/speaker_service.py)
    harmoni_tts_polly_default (harmoni_tts/aws_tts_service.py)
  /audio/
    audio_play (audio_play/audio_play)
  /bridge_face/
    rosapi (rosapi/rosapi_node)
    rosbridge_websocket (rosbridge_server/rosbridge_websocket)

[ROSTEST]setup[/root/harmoni_catkin_ws/src/HARMONI/harmoni_core/harmoni_pytree/test/face_and_polly_test/face_and_polly_subtree.test] run_id[e1f8b380-da64-11ec-a6a7-0242ac120304] done
[ROSTEST]Running test [test_speaker_and_tts]
[1mROS_MASTER_URI=http://harmoni_full:42363/[0m
[1msetting /run_id to e1f8b380-da64-11ec-a6a7-0242ac120304[0m
[1mprocess[audio/audio_play-1]: started with pid [4529][0m
[1mprocess[harmoni_speaker_default-2]: started with pid [4530][0m
[1mprocess[harmoni_tts_polly_default-3]: started with pid [4531][0m
[1mprocess[face_http_server-4]: started with pid [4532][0m
[1mprocess[bridge_face/rosbridge_websocket-5]: started with pid [4533][0m
[1mprocess[bridge_face/rosapi-6]: started with pid [4539][0m
[1mprocess[harmoni_face_default-7]: started with pid [4540][0m
[ROSTEST]running test test_speaker_and_tts
[1mprocess[test_speaker_and_tts-8]: started with pid [4541][0m
[1m[test_speaker_and_tts-8] process has finished cleanly
log file: /root/.ros/log/e1f8b380-da64-11ec-a6a7-0242ac120304/test_speaker_and_tts-8*.log[0m
[ROSTEST]test [test_speaker_and_tts] finished
[ROSTEST][ROSTEST] test [test_speaker_and_tts] done
[ROSTEST]tearDown[/root/harmoni_catkin_ws/src/HARMONI/harmoni_core/harmoni_pytree/test/face_and_polly_test/face_and_polly_subtree.test]
shutting down processing monitor...
[harmoni_face_default-7] killing on exit
[bridge_face/rosapi-6] killing on exit
[bridge_face/rosbridge_websocket-5] killing on exit
[face_http_server-4] killing on exit
[harmoni_tts_polly_default-3] killing on exit
[harmoni_speaker_default-2] killing on exit
[audio/audio_play-1] killing on exit
... shutting down processing monitor complete
[ROSTEST]rostest teardown /root/harmoni_catkin_ws/src/HARMONI/harmoni_core/harmoni_pytree/test/face_and_polly_test/face_and_polly_subtree.test complete

WARNING: overall test result is not accurate when --text is enabled
rostest log file is in /root/.ros/log/rostest-harmoni_full-4506.log
